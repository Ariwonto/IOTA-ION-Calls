(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],d=0,v=[];d<o.length;d++)r=o[d],s[r]&&v.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={1:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([11,0]),n()})({11:function(t,e,n){t.exports=n("Vtdi")},2:function(t,e){},3:function(t,e){},7:function(t,e){},"7EbL":function(t,e,n){},8:function(t,e){},"8DTm":function(t,e){t.exports=function(t){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(t):new Promise(function(e,n){var a=navigator.getUserMedia||navigator.webkitGetUserMedia;a||n(new Error("Browser unsupported")),a.call(navigator,t,e,n)})}},H8JV:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="H8JV"},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var a=n("Kw5r"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"culmn"},[n("router-view",{key:t.$route.fullPath})],1)])},i=[],r={name:"app",components:{}},o=r,c=(n("ZCWV"),n("KHd+")),l=Object(c["a"])(o,s,i,!1,null,null,null),u=l.exports,d=n("jE9Z"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("section",{staticClass:"home",attrs:{id:"home"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"main_home"},[n("div",{staticClass:"col-md-6"},[t._m(1),n("div",{staticClass:"home_btns m-top-40"},[n("button",{staticClass:"btn-hover color-5",on:{click:function(e){t.newCall()}}},[t._v("\n                New conversation\n              ")])])]),t._m(2)]),t._m(3)])])]),t._m(4),n("br"),t._m(5),t._m(6)])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-default bootsnav navbar-fixed white no-background"},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-header"},[a("button",{staticClass:"navbar-toggle",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbar-menu"}},[a("i",{staticClass:"fa fa-bars"})]),a("a",{staticClass:"navbar-brand",attrs:{href:"#brand"}},[a("img",{staticClass:"logo logo-display",attrs:{src:n("zwU1"),width:"50px",alt:""}}),a("img",{staticClass:"logo logo-scrolled",attrs:{src:n("qRg4"),width:"50px",alt:""}})])]),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbar-menu"}},[a("ul",{staticClass:"nav navbar-nav navbar-center"},[a("li",[a("a",{attrs:{href:"#home"}},[t._v("Home")])]),a("li",[a("a",{attrs:{href:"#features"}},[t._v("Features")])])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home_text"},[n("h1",{staticClass:"text-white"},[t._v("Resillient, 100% free video calls")]),n("p",{staticClass:"text-white"},[t._v("\n                ION Calls leverages IOTA and ION to deliver decentralized video conversations all over the world, with a 100% uptime guarantee.\n              ")]),n("p",{staticClass:"text-white"},[t._v("\n                Want to make something else? We have a "),n("a",{attrs:{href:"https://github.com/peterwilli/iota-ion.lib.js"}},[t._v("library for the devs")]),t._v(" :)\n              ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"phone_one phone_attr1 text-center sm-m-top-50"},[n("div",{staticClass:"attr_deg"},[t._v("Chat")]),n("div",{staticClass:"attr_rio"},[t._v("Games")]),n("div",{staticClass:"attr_sun text-white"},[t._v("Streaming")]),n("div",{staticClass:"attr_lon text-white"},[t._v("Video")]),n("img",{attrs:{src:"images/phone01.png",alt:""}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scrooldown"},[n("a",{attrs:{href:"#features"}},[n("i",{staticClass:"fa fa-chevron-down"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"features",attrs:{id:"features"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"main_features p-top-100"},[n("div",{staticClass:"col-md-8 col-md-offset-2 col-sm-12 col-xs-12"},[n("div",{staticClass:"head_title text-center"},[n("h2",[t._v("Features")])])]),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"features_item sm-m-top-30"},[n("div",{staticClass:"f_item_icon"},[n("i",{staticClass:"icon icon-diamond6"})]),n("div",{staticClass:"f_item_text"},[n("h3",[t._v("Made to last")]),n("p",[t._v("ION is a fast data-transfer-protocol built on top of the IOTA Tangle. Any working IOTA node will be able to set up a connection between 2 people (or machines!)")])])])]),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"features_item sm-m-top-30"},[n("div",{staticClass:"f_item_icon"},[n("i",{staticClass:"icon icon-cute"})]),n("div",{staticClass:"f_item_text"},[n("h3",[t._v("Privacy Friendly")]),n("p",[t._v("ION won't steal your data (it can't! even if it wanted to). All transfer is end-to-end encrypted. ION will remain truly, 100% free, since there's no need to host anything besides a IOTA node and this (static) webpage.")])])])]),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"features_item sm-m-top-30"},[n("div",{staticClass:"f_item_icon"},[n("i",{staticClass:"icon icon-human57"})]),n("div",{staticClass:"f_item_text"},[n("h3",[t._v("Unlimited Possibilities")]),n("p",[t._v("While the ION homepage allows video calls, ION can do a lot more than that! Imagine video-streaming, multiplayer games, or CCTV surveillance.")])])])])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer bg-black",attrs:{id:"footer"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"main_footer text-center p-top-40 p-bottom-30"},[n("p",{staticClass:"wow fadeInRight",attrs:{"data-wow-duration":"1s"}},[t._v("\n                                Made with\n                                "),n("i",{staticClass:"fa fa-heart"}),t._v("\n                                in the Netherlands by Peter Willemsen\n                            ")]),t._v("\n                            Theme by "),n("a",{attrs:{target:"_blank",href:"http://bootstrapthemes.co"}},[t._v("Bootstrap Themes")])])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scrollup"},[n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fa fa-chevron-up"})])])}],h=(n("pIFo"),n("dRSK"),n("rpcZ")),f="GiifLqhSM1zEWHYN",p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:81;t=f+t;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ9",a=[],s=h(t),i=0;i<e;i++){var r=Math.round(s()*n.length);a.push(n[r%n.length])}return a.join("")},g=n("o7/x"),_={name:"home",methods:{mounted:function(){$("#navbar-menu").find("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html,body").animate({scrollTop:t.offset().top-80},1e3),"none"!=$(".navbar-toggle").css("display")&&$(this).parents(".container").find(".navbar-toggle").trigger("click"),!1}})},newCall:function(){var t=g(16);this.$router.push({name:"call",params:{seed:t}})}}},b=_,w=(n("b82/"),Object(c["a"])(b,v,m,!1,null,"4c36f782",null)),C=w.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"full-view"},[n("div",{staticClass:"videos"},[n("video",{ref:"chat_vid",staticClass:"chat-vid"}),t._l(Object.values(t.connections).filter(function(t){return"undefined"!==typeof t.stream}),function(t){return n("div",{staticClass:"my-vid-container"},[n("video",{staticClass:"my-vid",attrs:{src:t.streamUrl}})])})],2)]),n("div",{staticClass:"messages"},t._l(t.messages,function(e){return n("div",{staticClass:"message"},[t._v("\n      "+t._s(e.message)+"\n    ")])})),n("div",{staticClass:"chat"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{type:"text",disabled:Object.keys(t.connections).length>0,placeholder:Object.keys(t.connections).length>0?"Type a message...":"Waiting for others to appear..."},domProps:{value:t.message},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.say()},input:function(e){e.target.composing||(t.message=e.target.value)}}})]),n("share-window",{attrs:{url:t.getConnectionUrl()}})],1)},O=[],x=(n("91GP"),n("ls82"),n("MECJ")),k=n("g+FG"),T=n.n(k),j=n("cymD"),E=n.n(j),S=n("6lFo"),P=n.n(S),W=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},U=n("8DTm"),I=n.n(U),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"window"},[n("div",{staticClass:"inner"},[n("h1",[t._v("Share this link!")]),n("p",[t._v("\n      People will be able to call you with this link while you keep this tab open.\n    ")]),n("b",[t._v("Beta notice:")]),t._v(" Only works with 1 to 1 conversations at the moment. Tested on Chrome on desktop and Android, with iOS only Safari has WebRTC, but we weren't able to get it to work with ION at the moment.\n    "),n("br"),n("br"),n("input",{attrs:{type:"text",readonly:""},domProps:{value:t.url},on:{click:function(e){t.onUrlClick()}}})])])},M=[],R={props:["url"],methods:{onUrlClick:function(t){var e=event.currentTarget;e.select()}}},V=R,D=(n("tX//"),Object(c["a"])(V,N,M,!1,null,"e24105d2",null)),G=D.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.shouldShow()?n("div",{staticClass:"window"},[n("div",{staticClass:"inner"},[null!==t.error?n("div",{staticClass:"error"},[n("h3",{attrs:{align:"center"}},[t._v("Oopsie woopsie...")]),n("p",{attrs:{align:"center"}},[t._v("\n        We made a fucky wucky!! A wittle fucko boingo! The code monkeys at our headquarters are working VEWY HAWD to fix this!\n        "),n("button",{staticClass:"btn-hover color-5",on:{click:function(e){t.reload()}}},[t._v("\n          Try again\n        ")])])]):n("div",[n("h1",{attrs:{align:"center"}},[t._v("Connecting...")]),n("p",{attrs:{align:"center"}},[n("pulse-loader"),t._v("\n        We've got a partner!\n        "),n("br"),t._v("\n        Please be patient...\n      ")],1)])])]):t._e()},F=[],J=n("il2d"),z={props:["status","error"],components:{PulseLoader:J["a"]},methods:{reload:function(){window.location.reload()},shouldShow:function(){return"idle"!==this.status&&"connected"!==this.status||null!==this.error}}},B=z,H=(n("caLj"),Object(c["a"])(B,A,F,!1,null,"48a61cc7",null)),L=H.exports,q=(n("o7/x"),n("BRrH")),K={components:{ShareWindow:G,StatusWindow:L},beforeDestroy:function(){null!==this.ion&&(console.warn("Destroyed ION"),this.ion.stop(),this.ion=null)},mounted:function(){var t=this.$route.params.seed;p(t);this.$route.params.myTag?(this.myTag=this.$route.params.myTag,console.log("Call using ION ".concat(P.a.version)),this.connect()):this.$router.replace({name:"call-tag",params:{seed:t,myTag:P.a.utils.randomTag()}})},data:function(){return{messages:[],ion:null,myTag:null,message:"",allowStream:!0,error:null,connections:[],myStream:null}},methods:{say:function(){this.ion.peer&&(this.ion.peer.send("msg:"+this.message),this.messages.push({message:this.message}),this.message="")},getConnectionUrl:function(){return window.location.origin+"/#/call/"+this.$route.params.seed},connect:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){var e,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this,n=new T.a({provider:"https://nodes.testnet.iota.org:443/"}),e.ion=new P.a(n,"81kozKvUQEU7civb",this.$route.params.seed,this.myTag),e.ion.connect({}),e.ion.on("connecting",function(){e.status="connecting"}),e.ion.on("error",function(t){e.status="error",e.error=t}),e.ion.on("connect",function(t){console.log("Connected! Upgrading connection to video chat, initiator:",e.ion.peers[t.user].initiator);var n=new q({initiator:e.ion.peers[t.user].initiator,trickle:!0,config:{iceServers:[{urls:"stun:stun.xs4all.nl:3478"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun.vodafone.ro:3478"}]}});e.$set(e.connections,t.user,{peer:n,status:"idle"})}),e.ion.on("data",function(t){var n=t.data,a=t.user,s=e.connections[a].peer,i="signal:",r="msg:";if(0===n.indexOf(i))s.signal(n.substring(i.length,n.length));else if(0===n.indexOf(r)){var o=(n+"").substring(r.length,n.length);e.messages.push({message:o}),new E.a({text:W(o),timeout:2500,progressBar:!0,layout:"bottomCenter"}).show()}}),otherPeer.on("signal",function(t){e.ion.send(obj.user,"signal:"+JSON.stringify(t))}),otherPeer.on("connect",Object(x["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(otherPeer.on("stream",function(t){e.connections[obj.user]=Object.assign({},e.connections[obj.user],{streamUrl:t})}),a.myStream){t.next=8;break}return t.next=4,I()({video:!0,audio:!0});case 4:a.myStream=t.sent,e.$refs.my_vid.srcObject=a.myStream,e.$refs.my_vid.volume=0,e.$refs.my_vid.play();case 8:case"end":return t.stop()}},t,this)})));case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Y=K,Z=(n("rPQG"),Object(c["a"])(Y,y,O,!1,null,"0cdc8742",null)),Q=Z.exports;a["a"].use(d["a"]);var X=new d["a"]({hashbang:!1,routes:[{path:"/",name:"home",component:C},{path:"/call/:seed",name:"call",component:Q},{path:"/call/:seed/:myTag",name:"call-tag",component:Q},{path:"*",redirect:"/"}]});n("wcpz"),a["a"].config.productionTip=!1,new a["a"]({router:X,render:function(t){return t(u)}}).$mount("#app")},ZCWV:function(t,e,n){"use strict";var a=n("7EbL"),s=n.n(a);s.a},"b82/":function(t,e,n){"use strict";var a=n("vGcF"),s=n.n(a);s.a},caLj:function(t,e,n){"use strict";var a=n("kBGO"),s=n.n(a);s.a},hVWJ:function(t,e,n){},kBGO:function(t,e,n){},pWYg:function(t,e,n){},qRg4:function(t,e,n){t.exports=n.p+"img/color-logo.904745b4.png"},rPQG:function(t,e,n){"use strict";var a=n("pWYg"),s=n.n(a);s.a},"tX//":function(t,e,n){"use strict";var a=n("hVWJ"),s=n.n(a);s.a},vGcF:function(t,e,n){},wcpz:function(t,e,n){},zwU1:function(t,e,n){t.exports=n.p+"img/logo.25bfedb5.png"}});
//# sourceMappingURL=app.f10762e8.js.map